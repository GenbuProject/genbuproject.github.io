<!DocType HTML>

<HTML>
	<Head>
		<Meta Charset = "UTF-8">
		<Title>Genbu Project Official Site == JavaScript Debuger</Title>
		
		<Script Src = "https://genbuproject.github.io/Programs/DOM Extender/DOM Extender v2.2.js"></Script>

		<Script Src = "Script/JsDecoder.js"></Script>
		<Script Src = "Script/JsColorizer.js"></Script>
		
		<Script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
			ga('create', 'UA-88656260-1', 'auto');
			ga('require', 'linkid', 'linkid.js');
			ga('send', 'pageview');
		</Script>
		
		<Script Type = "Text/JavaScript">
			DOM.importAPI("https://genbuproject.github.io/Programs/JSConsole For All Devices/JSConsole For All Devices v1.2.js", function () {
				window.debuger = new JSCFAD({
					Console: DOM("#Logger")
				});
			});
			
			function formatInit() {
				var Code = document.getElementById("Code").value;
				
				var Decoder = new JsDecoder();
					Decoder.s = Code;
					Code = Decoder.decode();
					
				var Colorizer = new JsColorizer();
					Colorizer.s = Code;
					Code = Colorizer.colorize();
					
				document.getElementById("FormatedCode").innerHTML = Code;
				
				if (document.getElementById("FormatedCode").innerHTML == "") {
					document.getElementById("FormatedCode").style.display = "None";
				} else {
					document.getElementById("FormatedCode").style.display = "Block";
				}
			}

			window.addEventListener("DOMContentLoaded", function () {
				/*DOM("#Console").addEventListener("keydown", function (Event) {
					switch (Event.keyCode) {
						case 9:
							Event.preventDefault();

							let Selection = window.getSelection();
							let Select = Selection.getRangeAt(0);
							let OldPos = Select.startOffset;

							console.log(Selection);
							console.log(Select);

							Select.startContainer.textContent = Select.startContainer.textContent.slice(0, OldPos) + "\t" + Select.startContainer.textContent.slice(OldPos);
							Selection.collapse(false);
					}
				});*/

				DOM("#Run").addEventListener("click", function () {
					eval([
						"(function () {",
						DOM("#Editor").textContent,
						"}).bind(JSCFAD.self).debug()"
					].join("\r\n"));
				});
			});
		</Script>

		<Style>
			HTML, Body {
				Height: 100%;

				Margin: 0;
			}

			Body {
				Display: Flex;
				Flex-Direction: Column;
			}



			#Logger, #Console {
				Outline: Thin Solid LightGray;

				Overflow: Overlay;
				White-Space: Pre-Wrap;
			}

			#Logger {
				Height: 30%;
			}

			#Console {
				Position: Relative;

				Display: Flex;
				Flex-Direction: Column;
				Height: 70%;
				Flex: 1;
			}

			#Editor {
				Height: 100%;
				Flex: 1;
			}
		</Style>

		<Style>
			Toolbar {
				Display: Flex;
				Flex-Direction: Row-Reverse;
				Width: 100%;
				Height: 5%;

				Opacity: 0.5;
				Border-Top: Thin Solid Gray;
			}

			Toolbar > Button, Toolbar Li {
				Width: 1em;
				Height: 1em;

				Padding: 0.5em;
				Border-Right: Thin Solid Gray;
			}

			Toolbar Li:Last-Child {
				Border: None;
			}
		</Style>
	</Head>
	
	<Body>
		<Div ID = "Logger"></Div>

		<Div ID = "Console">
			<Div ID = "Editor" ContentEditable = "true"></Div>
			<Toolbar></Toolbar>
		</Div>

		<Button ID = "Run">実行</Button>
	</Body>
</HTML>